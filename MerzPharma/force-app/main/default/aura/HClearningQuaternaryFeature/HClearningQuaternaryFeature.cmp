<aura:component implements="flexipage:availableForAllPageTypes" access="global" controller="getRecordIdForAura">
    <aura:attribute name="PatientInformation" type="Account[]" />
     <aura:attribute name="CarePrograms" type="CareProgram[]" />
    <aura:attribute name="MedicationManagement" type="Account[]" />
    <aura:attribute name="Account" type="Account[]" />
    <aura:attribute name="Contact" type="Contact[]" />
    <aura:attribute name="MakanaAccount" type="Account[]" />
     <aura:attribute name="ReferralManagement" type="ListView[]" />
   <aura:attribute name="WorkingRefferals" type="ListView[]" />
    
   <aura:attribute name="no_record_patient_information" type="Boolean" default="false"/>
   <aura:attribute name="no_record_medication_management" type="Boolean" default="false"/>
   <aura:attribute name="no_record_care_programs" type="Boolean" default="false"/>
   <aura:attribute name="no_record_referal_management" type="Boolean" default="false"/>
    
    <!-- ATM -->
    <aura:attribute name="CareProgramEnrollee" type="CareProgramEnrollee[]" />
    <aura:attribute name="ShawnaCareProgramEnrollee" type="CareProgramEnrollee[]" />
    <aura:attribute name="no_record_care_program_enrollee" type="Boolean" default="false"/>
    
    <!-- IDA -->
    <aura:attribute name="IntelligentDocumentAutomation" type="ReceivedDocument[]" />
    <aura:attribute name="no_record_ida" type="Boolean" default="false"/>
    
     <aura:handler name="init" action="{!c.initEntities}" value="{!this}"/>
    
    
    <aura:attribute name="welcome_text" type="String" default="Explore Health Cloud Features for Pharma" />
    <aura:attribute name="description" type="String" default="" />
	<lightning:card footer="" title="">
        <h1 slot="title" class="slds-text-heading_medium">{!v.welcome_text}</h1>
         <div class="c-footer" >
             <a href="/lightning/app/c__Health_Cloud_Learning_App/page/home">Go to Landing Page</a>
        </div>
        <div class="c-container">
            <lightning:layout>
                <lightning:layoutItem flexibility="auto" padding="around-small">                  
                    <aura:if isTrue="{!v.no_record_patient_information}">
                         <c:HClearningPrimaryFeatureChildPage heading="Patient Information"
                                                           app_text="View key information about the patient." 
                                                            url=""
                                                            image="custom:custom101"
                                                            secondary_text_present="true"
                                                            secondary_text=" * The Patient card shows valuable clinical information about a patient.\n * Click the All Care Plans subtab to view the history of the patient, including progress or challenges related to their health.\n * Click the Care Gaps subtab to track discrepancies or gaps in the patient's care and improve outcomes.\n * Click the Household subtab to view the patient's relationship in one single view.\n * In the Charles Green subtab, click the Benefits tab to view health benefits coverage.\n * In the Charles Green subtab, click the Device Data tab to view Care Metrics and identify gaps.\n * In the Charles Green subtab, click the Health Timeline to view a chronological view of health care events for a patient."
                                                            no_record="{!v.no_record_patient_information}"/>
                                                           
                         <aura:set attribute="else">
                                <aura:iteration items="{!v.PatientInformation}" var="patientinformation">
                                <c:HClearningPrimaryFeatureChildPage heading="Patient Information"
                                                           app_text="View key information about the patient." 
                                                           image="custom:custom101"
                                                           url="{!'/lightning/app/c__Care_CoordinationApp/r/Account/' + patientinformation.Id + '/view'}"
                                                           link_in_new_tab="true"
                                                           secondary_text_present="true"
                                                           secondary_text=" * The Patient card shows valuable clinical information about a patient.\n * Click the All Care Plans subtab to view the history of the patient, including progress or challenges related to their health.\n * Click the Care Gaps subtab to track discrepancies or gaps in the patient's care and improve outcomes.\n * Click the Household subtab to view the patient's relationship in one single view.\n * In the Charles Green subtab, click the Benefits tab to view health benefits coverage.\n * In the Charles Green subtab, click the Device Data tab to view Care Metrics and identify gaps.\n * In the Charles Green subtab, click the Health Timeline to view a chronological view of health care events for a patient." />
                                                           
                                 </aura:iteration>
                             </aura:set>
                              </aura:if>
                        <aura:if isTrue="{!v.no_record_referal_management}">
                         <c:HClearningPrimaryFeatureChildPage heading="Referral Management"
                                                           app_text="Use Referral Management to monitor referrals from submission to closure, ensure timely referral processing, and track final confirmation of a referral." 
                                                           url=""
                                                           image="standard:lead"
                                                    	    refferal_text_present="true"
                                                           refferal_link =""
                                                           refferal_text=" to open the Working Referrals list view on Opportunities and view the opportunity records for referrals."
                                                           no_record="{!v.no_record_referal_management}"   />
                         <aura:set attribute="else">
                     <aura:iteration items="{!v.ReferralManagement}" var="refermanagement">
                          <aura:iteration items="{!v.WorkingRefferals}" var="workref">
                                <c:HClearningPrimaryFeatureChildPage heading="Referral Management"
                                                           app_text="Use Referral Management to monitor referrals from submission to closure, ensure timely referral processing, and track final confirmation of a referral." 
                                                           url="{!'/lightning/app/c__Care_CoordinationApp/o/Lead/list?filterName' + '=' + refermanagement.Id}"
                                                    	   image="standard:lead"
                                                           link_in_new_tab="true"
                                                           refferal_text_present="true"
                                                           refferal_start_text=" * View Incoming Referrals list view on leads for patient referrals.\n"
                                                           refferal_link ="{!'/lightning/app/c__Care_CoordinationApp/o/Opportunity/list?filterName' + '=' + workref.Id}"
                                                           refferal_text=" to open the Working Referrals list view on Opportunities and view the opportunity records for referrals."/>
                                 	</aura:iteration>
                         </aura:iteration>
                                </aura:set>
                              </aura:if>
                     <aura:if isTrue="{!v.no_record_care_programs}">
                          <c:HClearningPrimaryFeatureChildPage heading="Care Programs"
                                                           app_text="Enroll patients in Care Programs to increase adherence to a care plan and drive better health outcomes." 
                                                           url=""
                                                           image="custom:custom86"
                                                     	   secondary_text_present="true"
                                                           secondary_text="* Click the Related tab to view enrollees, team members, products, and goals.\n"
                                                           link_text_present="true"
                                                           link_text=""
                                                           end_text_present="true"
                                                           end_text=" to open Ben Green's account. Then click the Enroll in Program quick action, follow the steps to enroll Ben and capture consent for the Kanaka Patient Assistance Program Care Program."
                                                           no_record="{!v.no_record_care_programs}"/>
                           <aura:set attribute="else">
                                 <aura:iteration items="{!v.CarePrograms}" var="careprograms">
                                 <aura:iteration items="{!v.Account}" var="account">
                                <c:HClearningPrimaryFeatureChildPage heading="Care Programs"
                                                           app_text="Enroll patients in Care Programs to increase adherence to a care plan and drive better health outcomes." 
                                                           url="{!'/lightning/app/c__Care_CoordinationApp/r/CareProgram/' + careprograms.Id + '/view'}"
                                                     	   image="custom:custom86"
                                                           link_in_new_tab="true"
                                                           secondary_text_present="true"
                                                           secondary_text="* Click the Related tab to view enrollees, team members, products, and goals.\n"
                                                           link_text_present="true"
                                                           link_text="{!'/lightning/app/c__Care_CoordinationApp/r/Account/' + account.Id + '/view'}"
                                                           end_text_present="true"
                                                           end_text=" to open Ben Green's account. Then click the Enroll in Program quick action, follow the steps to enroll Ben and capture consent for the Kanaka Patient Assistance Program Care Program."/>
                                                           
                                          
                                  </aura:iteration>
                                  </aura:iteration>
                                 </aura:set>
                              </aura:if>
                    <!-- ATM -->
                    <aura:if isTrue="{!v.no_record_care_program_enrollee}">
                          <c:HClearningPrimaryFeatureChildPage heading="Advanced Therapy Management"
                                                           app_text="Manage slots and scheduling across multiple territories in a single place, to help users easily search for and book appointments across multiple sites." 
                                                           url=""
                                                           image="standard:recipe"
                                                           secondary_text_present="true"
                                                           secondary_text="* View Charles Green Enrollee Details and Appointment Slots. \n" 
                                                           link_text_present="true"
                                                           link_text=""
                                                           end_text_present="true"
                                                           end_text=" to open Shawna Green's Enrolee Record. Click on the Book New Slots button to book Appointments. Select Makana Commercial Delivery in Work Procedure, select Makana Gene Therapy Center in Work Procedure Organization field and click on search."
                                                           no_record="{!v.no_record_care_program_enrollee}"/>
                           <aura:set attribute="else">
                                 <aura:iteration items="{!v.CareProgramEnrollee}" var="careprogramenrollee">
                                 <aura:iteration items="{!v.ShawnaCareProgramEnrollee}" var="ShawnaCareProgramEnrollee">
                                <c:HClearningPrimaryFeatureChildPage heading="Advanced Therapy Management"
                                                           app_text="Manage slots and scheduling across multiple territories in a single place, to help users easily search for and book appointments across multiple sites." 
                                                           url="{!'/lightning/app/standard__AdvancedTherapyManagement/r/CareProgramEnrollee/' + careprogramenrollee.Id + '/view'}"
                                                           image="standard:recipe"
                                                           link_in_new_tab="true"
                                                           secondary_text_present="true"
                                                           secondary_text="* View Charles Green Enrollee Details and Appointment Slots.\n"
                                                           link_text_present="true"
                                                           link_text="{!'/lightning/app/standard__AdvancedTherapyManagement/r/CareProgramEnrollee/' + ShawnaCareProgramEnrollee.Id + '/view'}"
                                                           end_text_present="true"
                                                           end_text=" to open Shawna Green's Enrolee Record. Click on the Book New Slots button to book Appointments. Select Makana Commercial Delivery in Work Procedure, select Makana Gene Therapy Center in Work Procedure Organization field and click on search."/>
                                                           
                                          
                                  </aura:iteration>
                                  </aura:iteration>
                                 </aura:set>
                              </aura:if>
                    
                     <aura:if isTrue="{!v.no_record_medication_management}">
                          <c:HClearningPrimaryFeatureChildPage heading="Medication Management"
                                                           app_text="Manage the medication regimen of patients, helping to improve patient safety and reduce healthcare costs." 
                                                           url=""
                                                           image="standard:medication_reconciliation"
                                                     	   secondary_text_present="true"
                                                           secondary_text="* * In the Charles Green subtab, click the Medications tab.\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; > Medications List is the view of all the patient medications.\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; > Medication Reconciliation is a view of patients reconciliation of current and previous medications."
                                                           no_record="{!v.no_record_medication_management}"    />
                           <aura:set attribute="else">
                                 <aura:iteration items="{!v.MedicationManagement}" var="medman">
                                 <c:HClearningPrimaryFeatureChildPage heading="Medication Management"
                                                           app_text="Manage the medication regimen of patients, helping to improve patient safety and reduce healthcare costs." 
                                                           url="{!'/lightning/app/c__Care_CoordinationApp/r/Account/' + medman.Id + '/view'}"
                                                     	    image="standard:medication_reconciliation"
                                                           link_in_new_tab="true"
                                                           secondary_text_present="true"
                                                           secondary_text="* In the Charles Green subtab, click the Medications tab.\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; > Medications List is the view of all the patient medications.\n &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; > Medication Reconciliation is a view of patients reconciliation of current and previous medications."/>
                                 </aura:iteration>
                                  </aura:set>
                              </aura:if>
                          

                    <aura:if isTrue="{!v.no_record_ida}">
                            <c:HClearningPrimaryFeatureChildPage heading="Intelligent Document Automation"
                                                           app_text="Use Intelligent Document Automation to unify the end-to-end document lifecycle on a single platform and streamline patient document intake." 
                                                           url=""
                                                           image="standard:file"
                                                    	   secondary_text_present="true"
                                                           secondary_text=" * Click Transform document to transform the documents.\n * View the Document checklist Item associated to Brenda McClure Lead record."
                                                           no_record="{!v.no_record_ida}"    />
                           <aura:set attribute="else">
                       <aura:iteration items="{!v.IntelligentDocumentAutomation}" var="ida">
                                <c:HClearningPrimaryFeatureChildPage heading="Intelligent Document Automation"
                                                           app_text="Use Intelligent Document Automation to unify the end-to-end document lifecycle on a single platform and streamline patient document intake." 
                                                           url="{!'/lightning/app/c__Care_CoordinationApp/r/ReceivedDocument/' + ida.Id + '/view'}"
                                                    	   image="standard:file"
                                                           link_in_new_tab="true"
                                                           secondary_text_present="true"
                                                           secondary_text=" * Click Transform document to transform the documents.\n * View the Document checklist Item associated to Brenda McClure Lead record."/>
                                 	</aura:iteration>
                                 </aura:set>
                              </aura:if>
                    
               </lightning:layoutItem>
            </lightning:layout>
        </div>
    </lightning:card>
</aura:component>